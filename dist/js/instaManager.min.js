var instaManager=angular.module("instaManager",[]);instaManager.controller("mainCtrl",["$scope","$http",function(t,e){var a;t.usertype="follows",t.data=null,t.lastPage=!1,t.order=!1,t.reverse=!1,t.token="",t.id="",t.sort=function(e){t.reverse=t.order===e?!t.reverse:!1,t.order=e},t.reset=function(){t.data=null,t.lastPage=!1,t.order=!1,t.reverse=!1},t.load=function(){!t.lastPage&&t.token&&t.id&&(t.data||(t.data=[],a="https://api.instagram.com/v1/users/"+t.id+"/"+t.usertype+"?access_token="+t.token),e.jsonp(a+"&callback=JSON_CALLBACK").then(function(e){t.data=t.data.concat(e.data.data),a=e.data.pagination.next_url,a||(t.lastPage=!0)},function(t){console.log("Error : ",t)}))}}]),instaManager.directive("peopleElt",function(){return{replace:!0,restrict:"E",scope:{userindex:"@",token:"@",people:"="},controller:["$scope","$http",function(t,e){t.status="follows"===t.$parent.usertype?"incoming_status":"outgoing_status",t.format=function(t){return t?t.split("_").map(function(t){return t[0]?t[0].toUpperCase()+t.substr(1):""}).join(" "):""},e.jsonp("https://api.instagram.com/v1/users/"+t.people.id+"/relationship?access_token="+t.token+"&callback=JSON_CALLBACK").then(function(e){angular.merge(t.people,e.data.data)},function(t){console.log("Error : ",t)}),e.jsonp("https://api.instagram.com/v1/users/"+t.people.id+"/?access_token="+t.token+"&callback=JSON_CALLBACK").then(function(e){angular.merge(t.people,e.data.data)},function(t){console.log("Error : ",t)})}],templateUrl:"tpl/people.html"}});